<div id="make-picks">

  <div class="page-header">
    <h3>Make Picks</h3>
  </div>

  <!-- week-selector directive -->
  <week-selector></week-selector>

  <!-- quick picks -->
  <div id="quickpick" class="btn-group pull-right" dropdown>
    <button type="button" class="btn btn-default btn-small btn-primary dropdown-toggle">
      Quick Picks <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li ng-repeat="item in quickPicks" ng-click="doQuickPick(item)">
        <a href="">{{item.title}}</a>
      </li>
    </ul>
  </div>

  <div class="clearfix"></div>
  <div class="text-info" ng-show="games">You've made <strong>{{pickCount}}</strong> of <strong>{{games.length}}</strong> game picks.</div>

  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Game</th>
          <th>Date</th>
          <th colspan="4">Away Team</th>
          <th colspan="4">Home Team</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="game in games">
          <td><div class="game-index" ng-class="{locked:game.started || game.ended}">{{$index+1}}</div></td>
          <td>
            <div class="gameDate"><small>{{game.date | date:'EEE, MMM d, y'}}</small></div>
            <div class="gameTime"><small>{{game.date | date:'shortTime'}}</small></div>
          </td>

          <!-- Away Team -->

          <td class="team-icon">
            <div class="team-icon-large team-{{game.awayTeam.nickName}}"></div>
          </td>
          <td class="team-cell">
            <div class="team-name">
              <a href="#/team-stats?team={{game.awayTeam.abbr}}">{{game.awayTeam.name}}</a>
            </div>
            <div class="team-standings">
              <small>
              (W-{{teamStandings[game.awayTeam.abbr].total.wins}},
               L-{{teamStandings[game.awayTeam.abbr].total.losses}},
               T-{{teamStandings[game.awayTeam.abbr].total.ties}})
               </small>
            </div>
          </td>
          <td class="team-spread">
            <div ng-show="game.awaySpread > 0"><small>+ </small>{{game.awaySpread}}</div>
          </td>
          <td class="team-selector">
            <div>
              <button ng-hide="!robot && (game.awayTeam.selected || game.started || game.ended)" ng-class="{true:'btn btn-primary btn-sm', false:''}[!game.awayTeam.selected]" ng-click="selectTeam(game, 'away')"> Pick Team
              </button>
              <span ng-show="game.awayTeam.selected">
                <i class="glyphicon glyphicon-ok"></i> Picked
              </span>
            </div>
          </td>

          <!-- Home Team -->

          <td class="team-icon">
            <div class="team-icon-large team-{{game.homeTeam.nickName}}"></div>
          </td>
          <td class="team-cell">
            <div class="team-name">
              <a href="#/team-stats?team={{game.homeTeam.abbr}}">{{game.homeTeam.name}}</a>
            </div>
            <div class="team-standings">
              <small>
              (W-{{teamStandings[game.homeTeam.abbr].total.wins}},
               L-{{teamStandings[game.homeTeam.abbr].total.losses}},
               T-{{teamStandings[game.homeTeam.abbr].total.ties}})
               </small>       
            </div>
          </td>
          <td class="team-spread">
            <div ng-show="game.homeSpread > 0"><small>+ </small>{{game.homeSpread}}</div>
          </td>
          <td class="team-selector">
            <div>
              <button ng-hide="!robot && (game.homeTeam.selected || game.started || game.ended)" ng-class="{true:'btn btn-primary btn-sm', false:''}[!game.homeTeam.selected]" ng-click="selectTeam(game, 'home')"> Pick Team
              </button>
              <!-- <span ng-show="game.homeTeam.selected"><i class="icon-ok"></i> Picked</span> -->
              <span ng-show="game.homeTeam.selected">
                <i class="glyphicon glyphicon-ok"> Picked</i>
              </span>
            </div>
          </td>

        </tr>
      </tbody>
    </table>
  </div>
</div>

